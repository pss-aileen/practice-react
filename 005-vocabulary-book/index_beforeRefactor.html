<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>React Mini Project</title>
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div id="root"></div>
  <script type="text/babel">
    "use strict";
    {
      const words = [
        { "english": "variable", "japanese": "変数" },
        { "english": "function", "japanese": "関数" },
        { "english": "array", "japanese": "配列" },
        { "english": "loop", "japanese": "ループ" },
        { "english": "conditional", "japanese": "条件付き" },
        { "english": "object", "japanese": "オブジェクト" },
        { "english": "method", "japanese": "メソッド" },
        { "english": "class", "japanese": "クラス" },
        { "english": "property", "japanese": "プロパティ" },
        { "english": "parameter", "japanese": "パラメータ" },
        { "english": "argument", "japanese": "引数" },
        { "english": "index", "japanese": "インデックス" },
        { "english": "string", "japanese": "文字列" },
        { "english": "integer", "japanese": "整数" },
        { "english": "boolean", "japanese": "ブール値" },
        { "english": "statement", "japanese": "文" },
        { "english": "constant", "japanese": "定数" },
        { "english": "operator", "japanese": "演算子" },
        { "english": "comment", "japanese": "コメント" },
        { "english": "iteration", "japanese": "反復" }
      ];

      const Word = (props) => {
        const [english, setEnglish] = React.useState();
        const [japanese, setJapanese] = React.useState();

        return (
          <div className="word">
            <p>{words[props.count].english}</p>
            <p>{props.showAnswer ? words[props.count].japanese : "?"}</p>
          </div>
        )
      };

      const App = () => {
        const [count, setCount] = React.useState(0);
        const [showAnswerStatus, setShowAnswerStatus] = React.useState(false);
        const [clickText, setClickText] = React.useState("答えを見る");

        const handleClick = () => {
          setShowAnswerStatus(!showAnswerStatus);
          if (showAnswerStatus) {
            if (count === words.length - 1) {
              setCount(0);
            } else {
              setCount(count + 1);
            }
          }

          if (clickText === "答えを見る") {
            setClickText("次へ");
          } else {
            setClickText("答えを見る");
          }
        };

        return (
          <>
            <div className="wrapper">
              <Word
                count={count}
                showAnswer={showAnswerStatus}
              />

              <button
                onClick={handleClick}
                className="button"
              >
                {clickText}
              </button>
            </div>
          </>
        );
      };
      const container = document.getElementById("root");
      const root = ReactDOM.createRoot(container);
      root.render(
        <App />
      );
    }
  </script>
</body>

</html>